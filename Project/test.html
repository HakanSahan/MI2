<!--
TO DO:

- Niet alleen BTC selecteren maar ook andere coins
- Owned crypto fixen
- Crypto lijst laden na uitvoeren ajax
- F7 gebruiken
- Alles lokaal opslaan
- inlog en registratie systeem maken
- fout meldingen tonen

-->
<!DOCTYPE html>
<html>
<head>
    <script src="js/Javascript.js" type="text/javascript"></script>
    <script src="js/jquery-3.3.1.min.js" type="text/javascript"></script>
    <script>
        "use strict";
        $(document).ready(function () {
            UpdateWallet();
            function UpdateOwnedCrypto() {
                let crypto ="";
                for(var i =0; i<gekochtCryptoLijst.length;i++){
                    crypto += "<div class='OwendCryptoRow'><div>" + gekochtCryptoLijst[i].name + "</div>" + "<div>" + gekochtCryptoLijst[i].aantal + "</div></div>";
                    crypto += "<div class='cryptoRow2'><button class='btnVerkoop'>Verkoop</button><input type='number' class='aantalVerkoop'></div>";
                }
                $("#OwendCrypto").html(crypto);
            }
            var crypto = "";
            function UpdateCrypto() {
                for(var i = 0; i< cryptoLijst.length; i++){
                    crypto += "<div class='cryptoRow'><div>" + cryptoLijst[i].symbol + "</div>" + "<div>" + cryptoLijst[i].price_eur + "</div></div>";
                    crypto += "<div class='cryptoRow2'><button class='btnKoop'>Koop</button><input type='number' class='aantalKoop' id='aantalKoop"+ i +"' ></div>";
                }
                $("#AvCrypto").html(crypto);
            }
            $(".cryptoRow").click(function () {
                $(".btnKoop").slideToggle();
                $(".aantalKoop").slideToggle();
            });
            $(".btnKoop").click(function () {
                var aantal = parseInt(document.getElementById("aantalKoop0").value);
                KoopCyrpto(aantal,BTC);
                UpdateOwnedCrypto();
                UpdateWallet();
            });
            function UpdateWallet() {
                var geld = wallet.toString();
                $("#Wallet").html(geld);
            }
            $(".OwendCryptoRow").click(function () {
                $(".btnVerkoop").slideToggle();
                $(".aantalVerkoop").slideToggle();
            });
            $(".btnVerkoop").click(function () {
                VerkoopCrypto(10,BTC);
                UpdateOwnedCrypto();
                UpdateWallet();
            });
            UpdateCrypto();
        });
    </script>
    <style>
        #OwendCrypto{
            display: flex;
            background-color: firebrick;
            flex-flow: column;
        }
        #AvCrypto {
            display: flex;
            background-color:green;
            flex-flow: column;
        }
       .cryptoRow2, .OwendCryptoRow, .cryptoRow{
            display: flex;
            justify-items: stretch;
        }
        div {
            flex-grow: 1;
        }
    </style>
</head>
<body>
    <div id="Wallet"></div>
    <div id="AvCrypto">
    </div>
    <div id="OwendCrypto">
    </div>
</body>
</html>